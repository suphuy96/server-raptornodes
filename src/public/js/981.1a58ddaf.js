"use strict";(self["webpackChunkRaptorNodes"]=self["webpackChunkRaptorNodes"]||[]).push([[981],{7981:(e,t,l)=>{l.r(t),l.d(t,{default:()=>B});var a=l(3673),o=l(2323),n=l(8880);const s={style:{"max-width":"1024px",margin:"0 auto"}},d={class:"text-h5 text-amber col-12 q-pa-sm"},i={style:{}},u={class:""},c=(0,a._)("div",{class:"text-h5 text-amber col-12 q-pa-sm"}," Config schedule backup ",-1);function r(e,t,l,r,m,p){const w=(0,a.up)("q-separator"),b=(0,a.up)("q-btn"),h=(0,a.up)("q-space"),g=(0,a.up)("q-input"),f=(0,a.up)("q-select"),v=(0,a.up)("q-th"),y=(0,a.up)("q-tr"),q=(0,a.up)("q-td"),_=(0,a.up)("q-table"),k=(0,a.up)("q-bar"),W=(0,a.up)("q-card-section"),C=(0,a.up)("q-card-actions"),Z=(0,a.up)("q-form"),D=(0,a.up)("q-card"),Q=(0,a.up)("q-dialog"),x=(0,a.up)("q-page"),S=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(x,{class:"row items-center justify-evenly q-pa-lg",style:{display:"block"}},{default:(0,a.w5)((()=>[(0,a._)("div",s,[(0,a._)("div",d,(0,o.zw)(e.documentName),1),(0,a.Wm)(w,{spaced:""}),(0,a._)("div",i,[(0,a.Wm)(_,{rows:e.docs,columns:e.columns,"row-key":"_id",dark:"","visible-columns":e.visibleColumns,style:{width:"100%"},filter:e.search,loading:e.loading,class:"card-dark",color:"amber"},{top:(0,a.w5)((()=>[(0,a.Wm)(b,{label:"Create new "+e.documentName,icon:"eva-cloud-download-outline",onClick:t[0]||(t[0]=t=>e.dialog=!0),push:""},null,8,["label"]),(0,a.Wm)(h),(0,a.Wm)(b,{icon:"eva-refresh-outline",push:"",round:"",dense:"",style:{"margin-right":"6px"},onClick:e.getDocuments},null,8,["onClick"]),(0,a.Wm)(g,{modelValue:e.search,"onUpdate:modelValue":t[1]||(t[1]=t=>e.search=t),dense:"",placeholder:"Search "+e.documentName+"..."},null,8,["modelValue","placeholder"]),(0,a.Wm)(f,{modelValue:e.visibleColumns,"onUpdate:modelValue":t[2]||(t[2]=t=>e.visibleColumns=t),multiple:"",outlined:"",dense:"","options-dense":"","display-value":e.$q.lang.table.columns,"emit-value":"","map-options":"",options:e.columns,"option-value":"name","options-cover":"",style:{"min-width":"150px"}},null,8,["modelValue","display-value","options"])])),header:(0,a.w5)((e=>[(0,a.Wm)(y,{props:e},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{"auto-width":""}),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.cols,(t=>((0,a.wg)(),(0,a.j4)(v,{key:t.name,props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(t.label),1)])),_:2},1032,["props"])))),128))])),_:2},1032,["props"])])),body:(0,a.w5)((t=>[(0,a.Wm)(y,{props:t},{default:(0,a.w5)((()=>[(0,a.Wm)(q,{"auto-width":""},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{size:"sm",color:"accent",round:"",dense:"",onClick:e=>t.expand=!t.expand,icon:t.expand?"remove":"eva-eye-outline"},null,8,["onClick","icon"])])),_:2},1024),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.cols,(e=>((0,a.wg)(),(0,a.j4)(q,{key:e.name,props:t},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.value),1)])),_:2},1032,["props"])))),128)),(0,a.Wm)(q,{"auto-width":""},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{size:"sm",class:"text-red",round:"",dense:"",onClick:l=>e.deleteDocument(t.row),icon:"eva-trash-2-outline"},null,8,["onClick"]),(0,a.Wm)(b,{size:"sm",round:"",dense:"",onClick:l=>e.editDocument(t.row),icon:"eva-cloud-download-outline"},null,8,["onClick"])])),_:2},1024)])),_:2},1032,["props"]),(0,a.wy)((0,a.Wm)(y,{props:t},{default:(0,a.w5)((()=>[(0,a.Wm)(q,{colspan:"100%"},{default:(0,a.w5)((()=>[(0,a._)("div",u,(0,o.zw)(t.row.answer),1)])),_:2},1024)])),_:2},1032,["props"]),[[n.F8,t.expand]])])),_:1},8,["rows","columns","visible-columns","filter","loading"])]),c,(0,a.Wm)(w,{spaced:""})]),(0,a.Wm)(Q,{modelValue:e.dialog,"onUpdate:modelValue":t[4]||(t[4]=t=>e.dialog=t),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(D,{style:{"min-width":"30vw"}},{default:(0,a.w5)((()=>[(0,a.Wm)(k,null,{default:(0,a.w5)((()=>[(0,a._)("div",null,(0,o.zw)(e.isEdit?"Edit ":"Create new")+" "+(0,o.zw)(e.documentName),1),(0,a.Wm)(h)])),_:1}),(0,a.Wm)(Z,{onSubmit:e.onSubmit},{default:(0,a.w5)((()=>[(0,a.Wm)(W,{style:{overflow:"hidden","min-width":"320px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{class:"q-pa-sm",modelValue:e.doc.label,"onUpdate:modelValue":t[3]||(t[3]=t=>e.doc.label=t),label:"Label",rules:[e=>""!==e||"Label required"]},null,8,["modelValue","rules"])])),_:1}),(0,a.Wm)(C,{align:"right"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(b,{flat:"",label:"CLOSE",color:"red"},null,512),[[S]]),(0,a.Wm)(b,{flat:"",label:e.isEdit?"Update":"Create",color:"primary",type:"submit"},null,8,["label"])])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1},8,["modelValue"])])),_:1})}var m=l(4250),p=l(5777),w=l(4434),b=l(9968);const h=b.Ps`
  mutation createFaq($label:String!){
    createBackup(label: $label){
      _id
      path
      label
      createdAt
      updatedAt
    }
  }
`,g=b.Ps`
  mutation createFaq($_id: String!){
    deleteFaq(_id:$_id){
      _id
    }
  }
`,f=b.Ps`
  query {
  backups{
    _id
    path
    label
    createdAt
    updatedAt
  }

  }
`;var v=l(3515),y=function(e,t,l,a){var o,n=arguments.length,s=n<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,l):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,l,a);else for(var d=e.length-1;d>=0;d--)(o=e[d])&&(s=(n<3?o(s):n>3?o(t,l,s):o(t,l))||s);return n>3&&s&&Object.defineProperty(t,l,s),s};let q=class extends p.w3{formatPrice=m.T;documentName="Backup";dialog=!1;isEdit=!1;loading=!1;search="";doc={label:""};docs=[];visibleColumns=["label","updatedAt"];columns=[{name:"label",required:!0,label:"label",align:"left",field:"label",sortable:!0},{name:"createdAt",label:"createdAt",align:"center",field:"createdAt",sortable:!0},{name:"updatedAt",label:"updatedAt",align:"center",field:"updatedAt",sortable:!0}];onReset(){this.doc={label:""}}async onSubmit(){await this.createDocument()}async getDocuments(){this.loading=!0;const e=await this.$apollo.query({query:f});this.docs=e.data.backups,this.loading=!1}deleteDocument(e){console.log("haha"),this.$q.dialog({title:"Delete",message:"You may want to delete?",cancel:!0,persistent:!0}).onOk((()=>{this.$apollo.mutate({mutation:g,variables:{_id:this.doc._id}}).then((()=>{this.getDocuments().then()}))}))}editDocument(e){window.open(v.Z.server+"/backup/file/"+e.path,"_blank")}async createDocument(){const e=await this.$apollo.mutate({mutation:h,variables:this.doc});e&&e.data?(this.dialog=!1,this.$q.notify({message:"Create Done"}),this.onReset(),await this.getDocuments()):this.$q.notify({message:"Create error:",color:"red"})}sendContact(){w.Z.create({message:"Send contact Done!",position:"center"})}async created(){await this.getDocuments()}};q=y([(0,p.Ei)({name:"FagIndex",components:{}})],q);const _=q;var k=l(4260),W=l(4379),C=l(5869),Z=l(673),D=l(2165),Q=l(2025),x=l(4689),S=l(3314),A=l(8186),V=l(2414),$=l(3884),z=l(6778),P=l(151),j=l(846),N=l(5269),R=l(5589),U=l(9367),E=l(677),F=l(7518),O=l.n(F);const T=(0,k.Z)(_,[["render",r]]),B=T;O()(_,"components",{QPage:W.Z,QSeparator:C.Z,QTable:Z.Z,QBtn:D.Z,QSpace:Q.Z,QInput:x.Z,QSelect:S.Z,QTr:A.Z,QTh:V.Z,QTd:$.Z,QDialog:z.Z,QCard:P.Z,QBar:j.Z,QForm:N.Z,QCardSection:R.Z,QCardActions:U.Z}),O()(_,"directives",{ClosePopup:E.Z})}}]);