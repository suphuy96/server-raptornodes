"use strict";(self["webpackChunkRaptorNodes"]=self["webpackChunkRaptorNodes"]||[]).push([[746],{39746:(e,t,o)=>{o.r(t),o.d(t,{default:()=>O});var a=o(83673),l=o(62323),i=o(98880);const n={style:{"max-width":"1024px",margin:"0 auto"}},s={class:"text-h5 text-amber col-12 q-pa-sm"},d={style:{}},r={class:""};function u(e,t,o,u,c,m){const p=(0,a.up)("q-separator"),h=(0,a.up)("q-btn"),w=(0,a.up)("q-space"),g=(0,a.up)("q-input"),b=(0,a.up)("q-select"),f=(0,a.up)("q-th"),q=(0,a.up)("q-tr"),y=(0,a.up)("q-td"),v=(0,a.up)("q-table"),k=(0,a.up)("q-bar"),W=(0,a.up)("q-editor"),C=(0,a.up)("q-card-section"),_=(0,a.up)("q-card-actions"),D=(0,a.up)("q-form"),Z=(0,a.up)("q-card"),x=(0,a.up)("q-dialog"),z=(0,a.up)("q-page"),Q=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(z,{class:"row items-center justify-evenly q-pa-lg",style:{display:"block"}},{default:(0,a.w5)((()=>[(0,a._)("div",n,[(0,a._)("div",s,(0,l.zw)(e.documentName),1),(0,a.Wm)(p,{spaced:""}),(0,a._)("div",d,[(0,a.Wm)(v,{rows:e.docs,columns:e.columns,"row-key":"_id",dark:"","visible-columns":e.visibleColumns,style:{width:"100%"},filter:e.search,pagination:e.initialPagination,loading:e.loading,class:"card-dark",color:"amber"},{top:(0,a.w5)((()=>[(0,a.Wm)(h,{label:"Create new "+e.documentName,icon:"eva-cloud-download-outline",onClick:t[0]||(t[0]=t=>{e.dialog=!0,e.isEdit=!1}),push:""},null,8,["label"]),(0,a.Wm)(w),(0,a.Wm)(h,{icon:"eva-refresh-outline",onClick:e.getDocuments,push:"",round:"",dense:"",style:{"margin-right":"6px"}},null,8,["onClick"]),(0,a.Wm)(g,{modelValue:e.search,"onUpdate:modelValue":t[1]||(t[1]=t=>e.search=t),dense:"",placeholder:"Search "+e.documentName+"..."},null,8,["modelValue","placeholder"]),(0,a.Wm)(b,{modelValue:e.visibleColumns,"onUpdate:modelValue":t[2]||(t[2]=t=>e.visibleColumns=t),multiple:"",outlined:"",dense:"","options-dense":"","display-value":e.$q.lang.table.columns,"emit-value":"","map-options":"",options:e.columns,"option-value":"name","options-cover":"",style:{"min-width":"150px"}},null,8,["modelValue","display-value","options"])])),header:(0,a.w5)((e=>[(0,a.Wm)(q,{props:e},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{"auto-width":""}),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.cols,(t=>((0,a.wg)(),(0,a.j4)(f,{key:t.name,props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(t.label),1)])),_:2},1032,["props"])))),128))])),_:2},1032,["props"])])),body:(0,a.w5)((t=>[(0,a.Wm)(q,{props:t},{default:(0,a.w5)((()=>[(0,a.Wm)(y,{"auto-width":""},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{size:"sm",color:"accent",round:"",dense:"",onClick:e=>t.expand=!t.expand,icon:t.expand?"remove":"eva-eye-outline"},null,8,["onClick","icon"])])),_:2},1024),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.cols,(e=>((0,a.wg)(),(0,a.j4)(y,{key:e.name,props:t},{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(e.value),1)])),_:2},1032,["props"])))),128)),(0,a.Wm)(y,{"auto-width":""},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{size:"sm",class:"text-red",round:"",dense:"",onClick:o=>e.deleteDocument(t.row),icon:"eva-trash-2-outline"},null,8,["onClick"]),(0,a.Wm)(h,{size:"sm",round:"",dense:"",onClick:o=>e.editDocument(t.row),icon:"eva-edit-outline"},null,8,["onClick"])])),_:2},1024)])),_:2},1032,["props"]),(0,a.wy)((0,a.Wm)(q,{props:t},{default:(0,a.w5)((()=>[(0,a.Wm)(y,{colspan:"100%"},{default:(0,a.w5)((()=>[(0,a._)("div",r,(0,l.zw)(t.row.answer),1)])),_:2},1024)])),_:2},1032,["props"]),[[i.F8,t.expand]])])),_:1},8,["rows","columns","visible-columns","filter","pagination","loading"])])]),(0,a.Wm)(x,{modelValue:e.dialog,"onUpdate:modelValue":t[5]||(t[5]=t=>e.dialog=t),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(Z,{style:{"min-width":"60vw"}},{default:(0,a.w5)((()=>[(0,a.Wm)(k,null,{default:(0,a.w5)((()=>[(0,a._)("div",null,(0,l.zw)(e.isEdit?"Edit ":"Create new")+" "+(0,l.zw)(e.documentName),1),(0,a.Wm)(w)])),_:1}),(0,a.Wm)(D,{onSubmit:e.onSubmit},{default:(0,a.w5)((()=>[(0,a.Wm)(C,{style:{overflow:"hidden","min-width":"320px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{class:"q-pa-sm",modelValue:e.doc.label,"onUpdate:modelValue":t[3]||(t[3]=t=>e.doc.label=t),label:"Label",rules:[e=>""!==e||"Label required"]},null,8,["modelValue","rules"]),e.dialog?((0,a.wg)(),(0,a.j4)(W,{key:0,ref:"editorrr",modelValue:e.doc.answer,"onUpdate:modelValue":t[4]||(t[4]=t=>e.doc.answer=t),toolbar:[[{label:e.$q.lang.editor.align,icon:e.$q.iconSet.editor.align,fixedLabel:!0,list:"only-icons",options:["left","center","right","justify"]}],["bold","italic","strike","underline","subscript","superscript"],["token","hr","link","custom_btn"],[{label:e.$q.lang.editor.formatting,icon:e.$q.iconSet.editor.formatting,list:"no-icons",options:["p","h1","h2","h3","h4","h5","h6","code"]},{label:e.$q.lang.editor.fontSize,icon:e.$q.iconSet.editor.fontSize,fixedLabel:!0,fixedIcon:!0,list:"no-icons",options:["size-1","size-2","size-3","size-4","size-5","size-6","size-7"]},"removeFormat"],["quote","unordered","ordered","outdent","indent"],["undo","redo"],["viewsource"]],dense:"",dark:""},null,8,["modelValue","toolbar"])):(0,a.kq)("",!0)])),_:1}),(0,a.Wm)(_,{align:"right"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(h,{flat:"",label:"CLOSE",color:"red"},null,512),[[Q]]),(0,a.Wm)(h,{flat:"",label:e.isEdit?"Update":"Create",color:"primary",type:"submit"},null,8,["label"])])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1},8,["modelValue"])])),_:1})}var c=o(88603),m=o(14250),p=o(85777),h=o(64434),w=o(36577),g=function(e,t,o,a){var l,i=arguments.length,n=i<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(l=e[s])&&(n=(i<3?l(n):i>3?l(t,o,n):l(t,o))||n);return i>3&&n&&Object.defineProperty(t,o,n),n};let b=class extends p.w3{formatPrice=m.T;documentName="Faq";dialog=!1;isEdit=!1;loading=!1;search="";doc={answer:"",label:""};docs=[];initialPagination={sortBy:"label",descending:!1,page:1,rowsPerPage:10};visibleColumns=["label","updatedAt"];columns=[{name:"label",required:!0,label:"label",align:"left",field:"label",sortable:!0},{name:"createdAt",label:"createdAt",align:"center",field:"createdAt",sortable:!0},{name:"updatedAt",label:"updatedAt",align:"center",field:"updatedAt",sortable:!0}];onReset(){this.doc.answer="",this.doc.label="",delete this.doc._id}async onSubmit(){this.isEdit?await this.updateDocument():await this.createDocument()}async getDocuments(){this.loading=!0;const e=await this.$apollo.query({query:w.o3});this.docs=e.data.faqs,this.loading=!1}deleteDocument(e){console.log("haha"),this.$q.dialog({title:"Delete",message:"You may want to delete?",cancel:!0,persistent:!0}).onOk((()=>{this.$apollo.mutate({mutation:w.Od,variables:{_id:e._id||""}}).then((()=>{this.getDocuments().then()}))}))}editDocument(e){this.isEdit=!0,this.dialog=!0,this.doc=(0,c.clone)(e)}async updateDocument(){if(""===this.doc.answer)return void h.Z.create({message:"Answer required",position:"bottom",color:"red"});const e=await this.$apollo.mutate({mutation:w.Vx,variables:this.doc});e&&e.data?(this.dialog=!1,this.$q.notify({message:"Update Done"}),this.onReset(),this.isEdit=!1,await this.getDocuments()):this.$q.notify({message:"Create error:",color:"red"})}async createDocument(){if(""===this.doc.answer)return void h.Z.create({message:"Answer required",position:"bottom",color:"red"});const e=await this.$apollo.mutate({mutation:w.Ue,variables:this.doc});e&&e.data?(this.dialog=!1,this.$q.notify({message:"Create Done"}),this.onReset(),await this.getDocuments()):this.$q.notify({message:"Create error:",color:"red"})}async created(){await this.getDocuments()}};b=g([(0,p.Ei)({name:"FagIndex",components:{}})],b);const f=b;var q=o(74260),y=o(24379),v=o(65869),k=o(30673),W=o(2165),C=o(62025),_=o(64689),D=o(63314),Z=o(18186),x=o(92414),z=o(83884),Q=o(46778),V=o(10151),$=o(10846),S=o(68689),E=o(25589),A=o(9859),U=o(99367),j=o(60677),P=o(7518),R=o.n(P);const N=(0,q.Z)(f,[["render",u]]),O=N;R()(f,"components",{QPage:y.Z,QSeparator:v.Z,QTable:k.Z,QBtn:W.Z,QSpace:C.Z,QInput:_.Z,QSelect:D.Z,QTr:Z.Z,QTh:x.Z,QTd:z.Z,QDialog:Q.Z,QCard:V.Z,QBar:$.Z,QForm:S.Z,QCardSection:E.Z,QEditor:A.Z,QCardActions:U.Z}),R()(f,"directives",{ClosePopup:j.Z})}}]);