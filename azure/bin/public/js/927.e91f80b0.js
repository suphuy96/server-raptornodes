"use strict";(self["webpackChunkRaptorNodes"]=self["webpackChunkRaptorNodes"]||[]).push([[927],{66927:(e,a,l)=>{l.r(a),l.d(a,{default:()=>re});var t=l(83673),o=l(62323),d=l(98880);const s={style:{"max-width":"1024px",margin:"0 auto"}},r={class:"text-h5 text-amber col-12 q-pa-sm"},i=(0,t._)("div",{class:"text-h6 col-12 q-pa-sm"}," This feature aims to automatically identify users via discord and import data from excel. ",-1),n={style:{}},m=(0,t.Uk)(" Import 12 smartnode in excel file "),u={class:""},c=(0,t._)("div",{class:"q-pa-sm"},"Master UserList",-1),p={class:""},w=(0,t._)("div",{class:"q-pa-sm"},"Import smartnode",-1),f={class:""};function h(e,a,l,h,g,b){const _=(0,t.up)("q-separator"),y=(0,t.up)("q-btn"),W=(0,t.up)("q-space"),I=(0,t.up)("q-icon"),v=(0,t.up)("q-file"),N=(0,t.up)("q-toggle"),q=(0,t.up)("q-tooltip"),D=(0,t.up)("q-input"),R=(0,t.up)("q-select"),k=(0,t.up)("q-th"),V=(0,t.up)("q-tr"),T=(0,t.up)("q-td"),C=(0,t.up)("q-table"),M=(0,t.up)("q-bar"),S=(0,t.up)("q-card-section"),O=(0,t.up)("q-card-actions"),$=(0,t.up)("q-form"),x=(0,t.up)("q-card"),P=(0,t.up)("q-dialog"),Z=(0,t.up)("q-tab"),U=(0,t.up)("q-tabs"),Q=(0,t.up)("q-tab-panel"),E=(0,t.up)("q-tab-panels"),Y=(0,t.up)("q-page"),z=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.j4)(Y,{class:"row items-center justify-evenly q-pa-lg",style:{display:"block"}},{default:(0,t.w5)((()=>[(0,t._)("div",s,[(0,t._)("div",r,(0,o.zw)(e.documentName),1),i,(0,t.Wm)(_,{spaced:""}),(0,t._)("div",n,[(0,t.Wm)(C,{title:"Treats",rows:e.docs,columns:e.columnsSmartNodes,"row-key":"_id",dark:"","visible-columns":e.visibleColumns,style:{width:"100%"},filter:e.fillter,pagination:e.initialPagination,loading:e.loading,class:"card-dark",color:"amber"},{top:(0,t.w5)((()=>[(0,t.Wm)(y,{label:"Create "+e.documentName,icon:"eva-cloud-download-outline",onClick:a[0]||(a[0]=a=>{e.dialog=!0,e.isEdit=!1}),push:""},null,8,["label"]),(0,t.Wm)(W),(0,t.Wm)(v,{square:"",standout:"",modelValue:e.file,"onUpdate:modelValue":a[1]||(a[1]=a=>e.file=a),style:{width:"150px"},class:"q-ma-sm",dense:"",onInput:e.inputFile,label:"import excel"},{prepend:(0,t.w5)((()=>[(0,t.Wm)(I,{name:"cloud_upload"})])),_:1},8,["modelValue","onInput"]),(0,t.Wm)(N,{modelValue:e.isImportSmartNode,"onUpdate:modelValue":a[2]||(a[2]=a=>e.isImportSmartNode=a),dense:"",label:"import smartnode"},null,8,["modelValue"]),(0,t.Wm)(I,{name:"eva-question-mark-circle-outline"},{default:(0,t.w5)((()=>[(0,t.Wm)(q,null,{default:(0,t.w5)((()=>[m])),_:1})])),_:1}),(0,t.Wm)(y,{icon:"eva-refresh-outline",onClick:e.getDocuments,push:"",round:"",dense:"",style:{"margin-right":"6px"}},null,8,["onClick"]),(0,t.Wm)(D,{modelValue:e.fillter,"onUpdate:modelValue":a[3]||(a[3]=a=>e.fillter=a),dense:"",placeholder:"Search "+e.documentName+"..."},null,8,["modelValue","placeholder"]),(0,t.Wm)(R,{modelValue:e.visibleColumns,"onUpdate:modelValue":a[4]||(a[4]=a=>e.visibleColumns=a),multiple:"",outlined:"",dense:"","options-dense":"","display-value":e.$q.lang.table.columns,"emit-value":"","map-options":"",options:e.columns,"option-value":"name","options-cover":"",style:{"min-width":"150px"}},null,8,["modelValue","display-value","options"])])),header:(0,t.w5)((e=>[(0,t.Wm)(V,{props:e},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{"auto-width":""}),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.cols,(a=>((0,t.wg)(),(0,t.j4)(k,{key:a.name,props:e},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(a.label),1)])),_:2},1032,["props"])))),128))])),_:2},1032,["props"])])),body:(0,t.w5)((a=>[(0,t.Wm)(V,{props:a},{default:(0,t.w5)((()=>[(0,t.Wm)(T,{"auto-width":""},{default:(0,t.w5)((()=>[(0,t.Wm)(y,{size:"sm",color:"accent",round:"",dense:"",onClick:e=>a.expand=!a.expand,icon:a.expand?"remove":"eva-eye-outline"},null,8,["onClick","icon"])])),_:2},1024),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.cols,(e=>((0,t.wg)(),(0,t.j4)(T,{key:e.name,props:a},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.value),1)])),_:2},1032,["props"])))),128)),(0,t.Wm)(T,{"auto-width":""},{default:(0,t.w5)((()=>[(0,t.Wm)(y,{size:"sm",class:"text-red",round:"",dense:"",onClick:l=>e.deleteDocument(a.row),icon:"eva-trash-2-outline"},null,8,["onClick"]),(0,t.Wm)(y,{size:"sm",round:"",dense:"",onClick:l=>e.editDocument(a.row),icon:"eva-edit-outline"},null,8,["onClick"])])),_:2},1024)])),_:2},1032,["props"]),(0,t.wy)((0,t.Wm)(V,{props:a},{default:(0,t.w5)((()=>[(0,t.Wm)(T,{colspan:"100%"},{default:(0,t.w5)((()=>[(0,t._)("div",u,(0,o.zw)(a.row.answer),1)])),_:2},1024)])),_:2},1032,["props"]),[[d.F8,a.expand]])])),_:1},8,["rows","columns","visible-columns","filter","pagination","loading"])])]),(0,t.Wm)(P,{modelValue:e.dialog,"onUpdate:modelValue":a[10]||(a[10]=a=>e.dialog=a),persistent:""},{default:(0,t.w5)((()=>[(0,t.Wm)(x,{style:{"min-width":"30vw"}},{default:(0,t.w5)((()=>[(0,t.Wm)(M,null,{default:(0,t.w5)((()=>[(0,t._)("div",null,(0,o.zw)(e.isEdit?"Edit ":"Create new")+" "+(0,o.zw)(e.documentName),1),(0,t.Wm)(W)])),_:1}),(0,t.Wm)($,{onSubmit:e.onSubmit},{default:(0,t.w5)((()=>[(0,t.Wm)(S,{style:{overflow:"hidden","min-width":"320px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(D,{class:"q-pa-sm",modelValue:e.doc.discordId,"onUpdate:modelValue":a[5]||(a[5]=a=>e.doc.discordId=a),label:"discordId",rules:[e=>""!==e||"discordId required"]},null,8,["modelValue","rules"]),(0,t.Wm)(D,{class:"q-pa-sm",modelValue:e.doc.collateral,"onUpdate:modelValue":a[6]||(a[6]=a=>e.doc.collateral=a),modelModifiers:{number:!0},label:"collateral",rules:[e=>""!==e||"collateral required"]},null,8,["modelValue","rules"]),(0,t.Wm)(D,{class:"q-pa-sm",modelValue:e.doc.RTMRewards,"onUpdate:modelValue":a[7]||(a[7]=a=>e.doc.RTMRewards=a),modelModifiers:{number:!0},label:"collateral",rules:[e=>""!==e||"collateral required"]},null,8,["modelValue","rules"]),(0,t.Wm)(D,{class:"q-pa-sm",modelValue:e.doc.pendingRTMRewards,"onUpdate:modelValue":a[8]||(a[8]=a=>e.doc.pendingRTMRewards=a),modelModifiers:{number:!0},label:"collateral",rules:[e=>""!==e||"collateral required"]},null,8,["modelValue","rules"]),(0,t.Wm)(D,{class:"q-pa-sm",modelValue:e.doc.smartNode,"onUpdate:modelValue":a[9]||(a[9]=a=>e.doc.smartNode=a),modelModifiers:{number:!0},label:"collateral",rules:[e=>""!==e||"collateral required"]},null,8,["modelValue","rules"])])),_:1}),(0,t.Wm)(O,{align:"right"},{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(y,{flat:"",label:"CLOSE",color:"red"},null,512),[[z]]),(0,t.Wm)(y,{flat:"",label:e.isEdit?"Update":"Create",color:"primary",type:"submit"},null,8,["label"])])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1},8,["modelValue"]),(0,t.Wm)(P,{modelValue:e.dialogImport,"onUpdate:modelValue":a[15]||(a[15]=a=>e.dialogImport=a),persistent:""},{default:(0,t.w5)((()=>[(0,t.Wm)(x,{style:{"min-width":"80vw"}},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{dense:"",modelValue:e.tab,"onUpdate:modelValue":a[11]||(a[11]=a=>e.tab=a),class:"text-blue"},{default:(0,t.w5)((()=>[(0,t.Wm)(Z,{dense:"",name:"smartnode",icon:"eva-options-2-outline",label:"smartnode"})])),_:1},8,["modelValue"]),(0,t.Wm)(E,{modelValue:e.tab,"onUpdate:modelValue":a[14]||(a[14]=a=>e.tab=a),animated:"",swipeable:"",vertical:"","transition-prev":"jump-up","transition-next":"jump-up"},{default:(0,t.w5)((()=>[(0,t.Wm)(Q,{name:"users"},{default:(0,t.w5)((()=>[(0,t.Wm)(S,{style:{overflow:"hidden","min-width":"320px"}},{default:(0,t.w5)((()=>[c,(0,t.Wm)(C,{rows:e.dataImports,columns:e.columnsImports,"row-key":"_id",dark:"",style:{width:"100%"},filter:e.searchDataImport,class:"card-dark",color:"amber"},{top:(0,t.w5)((()=>[(0,t.Wm)(W),(0,t.Wm)(D,{modelValue:e.searchDataImport,"onUpdate:modelValue":a[12]||(a[12]=a=>e.searchDataImport=a),dense:"",placeholder:"Search "+e.documentName+"..."},null,8,["modelValue","placeholder"])])),header:(0,t.w5)((e=>[(0,t.Wm)(V,{props:e},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.cols,(a=>((0,t.wg)(),(0,t.j4)(k,{key:a.name,props:e},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(a.label),1)])),_:2},1032,["props"])))),128))])),_:2},1032,["props"])])),body:(0,t.w5)((a=>[(0,t.Wm)(V,{props:a},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.cols,(e=>((0,t.wg)(),(0,t.j4)(T,{key:e.name,props:a},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.value),1)])),_:2},1032,["props"])))),128)),(0,t.Wm)(T,{"auto-width":""},{default:(0,t.w5)((()=>[(0,t.Wm)(y,{size:"sm",class:"text-red",round:"",dense:"",onClick:l=>e.deleteDocumentImport(a.rowIndex),icon:"eva-trash-2-outline"},null,8,["onClick"])])),_:2},1024)])),_:2},1032,["props"]),(0,t.wy)((0,t.Wm)(V,{props:a},{default:(0,t.w5)((()=>[(0,t.Wm)(T,{colspan:"100%"},{default:(0,t.w5)((()=>[(0,t._)("div",p,(0,o.zw)(a.row.answer),1)])),_:2},1024)])),_:2},1032,["props"]),[[d.F8,a.expand]])])),_:1},8,["rows","columns","filter"])])),_:1})])),_:1}),(0,t.Wm)(Q,{name:"smartnode"},{default:(0,t.w5)((()=>[(0,t.Wm)(S,{style:{"min-width":"60vw"}},{default:(0,t.w5)((()=>[(0,t.Wm)(S,{style:{overflow:"hidden","min-width":"320px"}},{default:(0,t.w5)((()=>[w,(0,t.Wm)(C,{rows:e.dataSmartNodes,columns:e.columnsSmartNodes,"row-key":"_id",dark:"",style:{width:"100%"},filter:e.searchDataImport,class:"card-dark",color:"amber"},{top:(0,t.w5)((()=>[(0,t.Wm)(W),(0,t.Wm)(D,{modelValue:e.searchDataImport,"onUpdate:modelValue":a[13]||(a[13]=a=>e.searchDataImport=a),dense:"",placeholder:"Search "+e.documentName+"..."},null,8,["modelValue","placeholder"])])),header:(0,t.w5)((e=>[(0,t.Wm)(V,{props:e},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.cols,(a=>((0,t.wg)(),(0,t.j4)(k,{key:a.name,props:e},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(a.label),1)])),_:2},1032,["props"])))),128))])),_:2},1032,["props"])])),body:(0,t.w5)((a=>[(0,t.Wm)(V,{props:a},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.cols,(e=>((0,t.wg)(),(0,t.j4)(T,{key:e.name,props:a},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.value),1)])),_:2},1032,["props"])))),128)),(0,t.Wm)(T,{"auto-width":""},{default:(0,t.w5)((()=>[(0,t.Wm)(y,{size:"sm",class:"text-red",round:"",dense:"",onClick:l=>e.deleteDocumentImport(a.rowIndex),icon:"eva-trash-2-outline"},null,8,["onClick"])])),_:2},1024)])),_:2},1032,["props"]),(0,t.wy)((0,t.Wm)(V,{props:a},{default:(0,t.w5)((()=>[(0,t.Wm)(T,{colspan:"100%"},{default:(0,t.w5)((()=>[(0,t._)("div",f,(0,o.zw)(a.row.answer),1)])),_:2},1024)])),_:2},1032,["props"]),[[d.F8,a.expand]])])),_:1},8,["rows","columns","filter"])])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,t.Wm)(O,{align:"right"},{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(y,{flat:"",label:"CLOSE",color:"red"},null,512),[[z]]),(0,t.Wm)(y,{flat:"",label:"Import data",color:"primary",onClick:e.importData},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}var g=l(88603),b=l(14250),_=l(85777),y=l(49968);const W=y.Ps`
  mutation updateDataOld($_id:String!, $address: String,$discordId:String){
    updateDataOld(_id:$_id, address:$address,discordId: $discordId){
      _id
      discordName
      discordId
    }
  }
`,I=y.Ps`
  mutation createDataOld($discordName: String,$discordId:String!,$address:String){
    createDataOld(discordName:$discordName,discordId: $discordId,address:$address){
      _id
      discordName
      discordId
    }
  }
`,v=y.Ps`
  mutation importDataOld($dataOlds: [inputDataOld]!){
    importDataOld(dataOlds:$dataOlds)
  }
`,N=y.Ps`
  mutation deleteDataOld($_id: String!){
    deleteDataOld(_id:$_id){
      _id
    }
  }
`,q=y.Ps`
  query {
  dataOlds{
    _id
    discordName
    discordId
    address
    collateral,
    percentOfNode,
    RTMRewards,
    pendingRTMRewards,
    smartNode
  }

  }
`;var D=l(93567),R=l(16249),k=l(48815),V=function(e,a,l,t){var o,d=arguments.length,s=d<3?a:null===t?t=Object.getOwnPropertyDescriptor(a,l):t;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,a,l,t);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(s=(d<3?o(s):d>3?o(a,l,s):o(a,l))||s);return d>3&&s&&Object.defineProperty(a,l,s),s};let T=class extends _.w3{formatPrice=b.T;documentName="Data Old";dialog=!1;dialogImport=!1;isEdit=!1;loading=!1;isImportSmartNode=!0;fillter="";tab="smartnode";searchDataImport="";doc={discordId:"",address:"",collateral:0,percentOfNode:0,RTMRewards:0,pendingRTMRewards:0,smartNode:""};docs=[];file=[];initialPagination={sortBy:"label",descending:!1,page:1,rowsPerPage:10};dataImports=[];dataSmartNodes=[];columnsSmartNodes=[{name:"discordName",required:!0,label:"discordName",align:"left",field:"discordName",sortable:!0},{name:"discordId",label:"discordId",align:"center",field:"discordId",sortable:!0},{name:"smartNode",label:"smartNode",align:"center",field:"smartNode",sortable:!0},{name:"collateral",label:"collateral",align:"center",field:"collateral",sortable:!0},{name:"percentOfNode",label:"percentOfNode",align:"center",field:"percentOfNode",sortable:!0},{name:"RTMRewards",label:"RTMRewards",align:"center",field:"RTMRewards",sortable:!0},{name:"pendingRTMRewards",label:"pendingRTMRewards",align:"center",field:"pendingRTMRewards",sortable:!0}];smartnodeIPs=[];columnsImports=[{name:"discordName",required:!0,label:"discordName",align:"left",field:"discordName",sortable:!0},{name:"discordId",label:"discordId",align:"center",field:"discordId",sortable:!0},{name:"address",label:"address",align:"center",field:"address",sortable:!0}];visibleColumns=["discordId","discordName","smartNode","collateral","RTMRewards","updatedAt"];columns=[{name:"discordId",required:!0,label:"discordId",align:"left",field:"discordId",sortable:!0},{name:"discordName",label:"discordName",align:"center",field:"discordName",sortable:!0},{name:"address",label:"address",align:"center",field:"address",sortable:!0},{name:"updatedAt",label:"updatedAt",align:"center",field:"updatedAt",sortable:!0}];haha(){console.log("fádf")}onReset(){this.doc={discordId:"",address:"",collateral:0,percentOfNode:0,RTMRewards:0,pendingRTMRewards:0,smartNode:""}}async onSubmit(){this.isEdit?await this.updateDocument():await this.createDocument()}async getDocuments(){this.loading=!0;const e=await this.$apollo.query({query:q});this.docs=e.data.dataOlds,this.loading=!1}deleteDocumentImport(e){this.dataImports.splice(e,1)}deleteDocument(e){console.log("haha"),this.$q.dialog({title:"Delete",message:"You may want to delete?",cancel:!0,persistent:!0}).onOk((()=>{this.$apollo.mutate({mutation:N,variables:{_id:e._id}}).then((()=>{this.getDocuments().then()}))}))}editDocument(e){this.isEdit=!0,this.dialog=!0,this.doc=(0,g.clone)(e)}async updateDocument(){const e=await this.$apollo.mutate({mutation:W,variables:this.doc});e&&e.data?(this.dialog=!1,this.$q.notify({message:"Update Done"}),this.onReset(),this.isEdit=!1,await this.getDocuments()):this.$q.notify({message:"Create error:",color:"red"})}async createDocument(){const e=await this.$apollo.mutate({mutation:I,variables:this.doc});e&&e.data?(this.dialog=!1,this.$q.notify({message:"Create Done"}),this.onReset(),await this.getDocuments()):this.$q.notify({message:"Create error:",color:"red"})}async inputFile(e){console.log("vafp vây",this.file,e);let a=await(0,k.RY)(e.target.files[0]);var l=[],t=[];for(let o=0;o<a.length;o++){let e=a[o].data;t.push({label:a[o].key+"",ipAddress:e[3].__EMPTY_1});for(let t=15;t<e.length;t++){const d=e[t];d.__EMPTY&&""!==d.__EMPTY&&l.push({discordId:d.__EMPTY_1+"",discordName:d.__EMPTY+"",address:d.__EMPTY_2,collateral:d.__EMPTY_3,percentOfNode:d.__EMPTY_4,RTMRewards:d.__EMPTY_5,pendingRTMRewards:d.__EMPTY_6,smartNode:a[o].key+""})}}this.smartnodeIPs=t,console.log("smartnodes",t),this.dataSmartNodes=l,this.dialogImport=!0}async importData(){if(R.Z.show(),await this.$apollo.mutate({mutation:v,variables:{dataOlds:this.dataSmartNodes}}),this.dialogImport=!1,this.$q.notify({message:"Import Done!!"}),console.log("this.isImportSmartNode",this.isImportSmartNode),this.isImportSmartNode)for await(const e of this.smartnodeIPs)this.$q.notify({message:"Create Node:"+e.label}),await this.$apollo.mutate({mutation:D.Ue,variables:{...e,statusCollateral:"Enough"}});R.Z.hide(),await this.getDocuments()}async created(){await this.getDocuments()}};T=V([(0,_.Ei)({name:"DataOldIndex",components:{}})],T);const C=T;var M=l(74260),S=l(24379),O=l(65869),$=l(30673),x=l(2165),P=l(62025),Z=l(81052),U=l(24554),Q=l(28886),E=l(5363),Y=l(64689),z=l(63314),j=l(18186),F=l(92414),A=l(83884),H=l(46778),K=l(10151),B=l(10846),L=l(68689),G=l(25589),J=l(99367),X=l(57547),ee=l(3269),ae=l(5906),le=l(86602),te=l(60677),oe=l(7518),de=l.n(oe);const se=(0,M.Z)(C,[["render",h]]),re=se;de()(C,"components",{QPage:S.Z,QSeparator:O.Z,QTable:$.Z,QBtn:x.Z,QSpace:P.Z,QFile:Z.Z,QIcon:U.Z,QToggle:Q.Z,QTooltip:E.Z,QInput:Y.Z,QSelect:z.Z,QTr:j.Z,QTh:F.Z,QTd:A.Z,QDialog:H.Z,QCard:K.Z,QBar:B.Z,QForm:L.Z,QCardSection:G.Z,QCardActions:J.Z,QTabs:X.Z,QTab:ee.Z,QTabPanels:ae.Z,QTabPanel:le.Z}),de()(C,"directives",{ClosePopup:te.Z})}}]);