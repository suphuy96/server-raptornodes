"use strict";(self["webpackChunkRaptorNodes"]=self["webpackChunkRaptorNodes"]||[]).push([[911],{76911:(e,a,t)=>{t.r(a),t.d(a,{default:()=>se});var s=t(83673),l=t(62323),d=t(98880);const o={style:{"max-width":"1024px",margin:"0 auto"}},r=(0,s._)("div",{class:"text-h5 text-amber col-12 q-pa-sm"},"Favorite Address ",-1),i={class:"q-pa-ms row"},n={class:"text-h5 text-amber row col-12 q-pa-sm"},c=(0,s.Uk)("Transaction "),u=(0,s.Uk)(" You need to enable Two Factor Authentication "),m=(0,s.Uk)(),p=(0,s._)("p",{class:"text-h5 text-left"},"ALL Transaction",-1),w={class:""};function h(e,a,t,h,b,f){const g=(0,s.up)("q-separator"),y=(0,s.up)("q-icon"),A=(0,s.up)("q-input"),W=(0,s.up)("q-btn"),v=(0,s.up)("q-item"),q=(0,s.up)("q-tooltip"),k=(0,s.up)("q-space"),_=(0,s.up)("q-select"),x=(0,s.up)("q-th"),T=(0,s.up)("q-tr"),Z=(0,s.up)("q-td"),C=(0,s.up)("q-table"),V=(0,s.up)("q-bar"),U=(0,s.up)("q-card-section"),P=(0,s.up)("q-card-actions"),$=(0,s.up)("q-card"),Q=(0,s.up)("q-dialog"),B=(0,s.up)("q-page"),j=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(B,{class:"row q-pa-lg col-12",style:{display:"block"}},{default:(0,s.w5)((()=>[(0,s._)("div",o,[r,(0,s.Wm)(g),(0,s._)("div",i,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.userAddresss,((a,t)=>((0,s.wg)(),(0,s.j4)(v,{key:t},{default:(0,s.w5)((()=>[(0,s.Wm)(A,{dense:"",modelValue:a.address,"onUpdate:modelValue":e=>a.address=e,label:"Your Address RTM",style:{"min-width":"330px"}},{prepend:(0,s.w5)((()=>[(0,s.Wm)(y,{name:"fas fa-coins"})])),_:2},1032,["modelValue","onUpdate:modelValue"]),(0,s.Wm)(W,{label:"Update",disable:""==a.address,onClick:t=>e.UpdateUserAddress(a)},null,8,["disable","onClick"])])),_:2},1024)))),128)),e.userAddresss.length<5?((0,s.wg)(),(0,s.j4)(v,{key:0},{default:(0,s.w5)((()=>[(0,s.Wm)(A,{dense:"",modelValue:e.address,"onUpdate:modelValue":a[0]||(a[0]=a=>e.address=a),label:"Your Address RTM",style:{"min-width":"330px"}},{prepend:(0,s.w5)((()=>[(0,s.Wm)(y,{name:"fas fa-coins"})])),_:1},8,["modelValue"]),(0,s.Wm)(W,{label:"Add",disable:""==e.address,onClick:e.addUserAddress},null,8,["disable","onClick"])])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(v)]),(0,s._)("div",n,[c,(0,s.Wm)(W,{disable:e.me&&!e.me.enableTfa,class:"text-white bg-blue q-ml-md",icon:"fas fa-sign-out-alt",label:"Withdraw",onClick:a[1]||(a[1]=a=>e.dialogWithdrawl=!0)},{default:(0,s.w5)((()=>[e.me&&!e.me.enableTfa?((0,s.wg)(),(0,s.j4)(q,{key:0},{default:(0,s.w5)((()=>[u])),_:1})):(0,s.kq)("",!0)])),_:1},8,["disable"]),(0,s.Wm)(k),m,(0,s.Wm)(W,{class:"text-white",icon:"eva-refresh-outline",push:"",onClick:e.getWithdraw},null,8,["onClick"])]),(0,s.Wm)(g),(0,s._)("div",null,[(0,s.Wm)(C,{rows:e.transactions,columns:e.columns,"row-key":"name","visible-columns":e.visibleColumns,dark:"",loading:e.loading,filter:e.searchText,class:"rol col-12",pagination:e.initialPagination,color:"amber"},{top:(0,s.w5)((()=>[p,(0,s.Wm)(k),(0,s.Wm)(A,{modelValue:e.searchText,"onUpdate:modelValue":a[2]||(a[2]=a=>e.searchText=a),dense:"",placeholder:"Search Transaction.."},null,8,["modelValue"]),(0,s.Wm)(_,{modelValue:e.visibleColumns,"onUpdate:modelValue":a[3]||(a[3]=a=>e.visibleColumns=a),multiple:"",outlined:"",dense:"","options-dense":"","display-value":e.$q.lang.table.columns,"emit-value":"","map-options":"",options:e.columns,"option-value":"name","options-cover":"",style:{"min-width":"150px"}},null,8,["modelValue","display-value","options"])])),header:(0,s.w5)((e=>[(0,s.Wm)(T,{props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(x,{"auto-width":""}),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.cols,(a=>((0,s.wg)(),(0,s.j4)(x,{key:a.name,props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(a.label),1)])),_:2},1032,["props"])))),128))])),_:2},1032,["props"])])),body:(0,s.w5)((a=>[(0,s.Wm)(T,{props:a},{default:(0,s.w5)((()=>[(0,s.Wm)(Z,{"auto-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(W,{size:"sm",round:"",dense:"",onClick:t=>e.showTransition(a.row),icon:"eva-external-link-outline"},null,8,["onClick"])])),_:2},1024),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.cols,(e=>((0,s.wg)(),(0,s.j4)(Z,{key:e.name,props:a},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(e.value),1)])),_:2},1032,["props"])))),128)),(0,s.Wm)(Z,{"auto-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(W,{size:"sm",round:"",dense:"",onClick:t=>e.showTran(a.row),icon:"eva-external-link-outline"},null,8,["onClick"])])),_:2},1024)])),_:2},1032,["props"]),(0,s.wy)((0,s.Wm)(T,{props:a},{default:(0,s.w5)((()=>[(0,s.Wm)(Z,{colspan:"100%"},{default:(0,s.w5)((()=>[(0,s._)("div",w,(0,l.zw)(a.row.answer),1)])),_:2},1024)])),_:2},1032,["props"]),[[d.F8,a.expand]])])),_:1},8,["rows","columns","visible-columns","loading","filter","pagination"])])]),(0,s.Wm)(Q,{modelValue:e.dialogWithdrawl,"onUpdate:modelValue":a[11]||(a[11]=a=>e.dialogWithdrawl=a),style:{"min-width":"50vw"},persistent:""},{default:(0,s.w5)((()=>[(0,s.Wm)($,null,{default:(0,s.w5)((()=>[(0,s.Wm)(V,null,{default:(0,s.w5)((()=>[(0,s._)("div",null,"Balance:"+(0,l.zw)(e.balance)+"RTM - "+(0,l.zw)(e.currency.charCode)+(0,l.zw)(e.formatMoney(e.currentPrice*e.balance))+" "+(0,l.zw)(e.currency.symbol),1),(0,s.Wm)(k)])),_:1}),(0,s.Wm)(U,{style:{overflow:"hidden","min-width":"320px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(A,{class:"q-pa-sm",modelValue:e.addressWithdrawl,"onUpdate:modelValue":[a[4]||(a[4]=a=>e.addressWithdrawl=a),e.inputAddress],autofocus:"",label:"Your Address RTM",debounce:"500"},null,8,["modelValue","onUpdate:modelValue"]),(0,s.Wm)(_,{class:"q-pa-sm",dense:"",modelValue:e.addressWithdrawl,"onUpdate:modelValue":[a[5]||(a[5]=a=>e.addressWithdrawl=a),a[6]||(a[6]=a=>{e.doneAddress="Done",e.inputAddress()})],options:e.userAddresss,"emit-value":"","option-label":"address","option-value":"address",label:"Favourite Address"},null,8,["modelValue","options"]),""!==e.doneAddress?((0,s.wg)(),(0,s.iD)("span",{key:0,class:(0,l.C_)(("Done"===e.doneAddress?"text-blue":"text-red")+" row col-12 q-pa-sm fixmg")},(0,l.zw)(e.doneAddress)+" current Balance:"+(0,l.zw)(e.formatPrice(e.balanceAddress/1e8))+" RTM",3)):(0,s.kq)("",!0),(0,s.Wm)(A,{type:"number",class:"q-pa-sm",modelValue:e.amount,"onUpdate:modelValue":a[8]||(a[8]=a=>e.amount=a),modelModifiers:{number:!0},label:"Amount",rules:[a=>0!==a&&a<=e.balance||"Please use maximum "+e.balance]},{append:(0,s.w5)((()=>[(0,s.Wm)(W,{label:"All",onClick:a[7]||(a[7]=a=>e.amount=e.balance)})])),_:1},8,["modelValue","rules"]),e.me.enableTfa?((0,s.wg)(),(0,s.j4)(A,{key:1,class:"q-pa-sm",modelValue:e.tfa,"onUpdate:modelValue":a[10]||(a[10]=a=>e.tfa=a),type:e.isPwd?"password":"text",label:"2FA",rules:[a=>""!==a||!e.me.enableTfa||"Please input 2FA"]},{append:(0,s.w5)((()=>[(0,s.Wm)(y,{name:e.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:a[9]||(a[9]=a=>e.isPwd=!e.isPwd)},null,8,["name"])])),_:1},8,["modelValue","type","rules"])):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(P,{align:"right"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(W,{flat:"",label:"CLOSE",color:"red"},null,512),[[j]]),(0,s.Wm)(W,{flat:"",label:"Widthdrawl",color:"primary",onClick:e.widthdrawl},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}var b=t(41914),f=t(64434),g=t(93047),y=t(91490),A=t(49968);const W=A.Ps`
  mutation createWithdraw($address: String!,$description:String,$amount:Float!,$tfa:String){
    createWithdraw(address:$address,description: $description,amount: $amount,tfa: $tfa){
      _id
      address
      amount
      createdAt
      updatedAt
    }
  }
`,v=A.Ps`
  query {
  withdraws{
    _id
    address
    description
    amount
    txid
    time
    blockhash
    confirmations
    fee
    createdAt
    updatedAt
  }

  }
`;var q,k,_=t(85777),x=t(55181),T=t(94756),Z=t(1949),C=t(14250),V=function(e,a,t,s){var l,d=arguments.length,o=d<3?a:null===s?s=Object.getOwnPropertyDescriptor(a,t):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,a,t,s);else for(var r=e.length-1;r>=0;r--)(l=e[r])&&(o=(d<3?l(o):d>3?l(a,t,o):l(a,t))||o);return d>3&&o&&Object.defineProperty(a,t,o),o},U=function(e,a){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,a)};let P=class extends _.w3{currency;balance;currentPrice;me;showTransition;formatMoney=C.l;formatPrice=C.T;dialogWithdrawl=!1;timeOut=null;address="";addressWithdrawl="";userAddresss=[];doneAddress="";balanceAddress=0;searchText="";rows=[];initialPagination={sortBy:"createdAt",descending:!0,page:1,rowsPerPage:10};visibleColumns=["txid","trusted","amount","address","createdAt"];columns=[{name:"txid",required:!0,label:"Txid",align:"left",field:"txid",sortable:!0},{name:"amount",required:!0,label:"Amount",align:"center",field:"amount",sortable:!0},{name:"address",required:!0,label:"Address",align:"center",field:"address",sortable:!0},{name:"blockhash",required:!0,label:"Blockhash",align:"center",field:"blockhash",sortable:!0},{name:"confirmations",required:!0,label:"Confirmations",align:"center",field:"confirmations",sortable:!0},{name:"time",required:!0,label:"Time",align:"center",field:"time",sortable:!0},{name:"timereceived",required:!0,label:"Timereceived",align:"center",field:"timereceived",sortable:!0},{name:"fee",required:!0,label:"Fee",align:"center",field:"fee",sortable:!0},{name:"description",required:!0,label:"Description",align:"center",field:"description",sortable:!0},{name:"createdAt",required:!0,label:"CreatedAt",align:"center",field:"createdAt",sortable:!0}];amount=0;tfa="";isPwd=!0;loading=!1;transactions=[];tab="wallet";async inputAddress(){console.log("heafasdfsd");try{let e=await this.$apollo.query({query:g.zj,variables:{address:this.addressWithdrawl}});e&&e.data&&e.data.getBalanceByAddress?(this.doneAddress="Done",this.balanceAddress=e.data.getBalanceByAddress.balance||0):(console.log("vafo dday"),this.doneAddress="Address invalid")}catch{this.doneAddress="Address invalid"}}async widthdrawl(){if(console.log("df"),""!==this.addressWithdrawl)if(this.amount>=this.balance)f.Z.create({message:"amount <= balance!!",position:"bottom",color:"red"});else if(this.me.enableTfa&&""===this.tfa)f.Z.create({message:"required 2FA",position:"bottom",color:"red"});else try{let e=await this.$apollo.mutate({mutation:W,variables:{address:this.addressWithdrawl,amount:parseFloat(this.amount.toFixed(8)),tfa:this.tfa}}).catch((e=>{f.Z.create({message:`${e.toString()}`,color:"red",position:"bottom"})}));e&&e.data&&e&&e.data.createWithdraw&&(this.dialogWithdrawl=!1,this.amount=0,this.tfa="",await this.getWithdraw(),await this.$store.dispatch("balance/getBalance"))}catch(e){}else f.Z.create({message:"Address invalid!",position:"bottom",color:"red"})}copyToClipboard(){(0,b.Z)(this.me.addressRTM).then((()=>{console.log("đầ")})).catch((()=>{}))}async getUserAddress(){const e=await this.$apollo.query({query:y.o3});e&&e.data&&(this.userAddresss=e.data?.userAddresss||[],this.userAddresss.length)}async UpdateUserAddress(e){const a=await this.$apollo.mutate({mutation:y.Vx,variables:{_id:e._id,address:e.address}});a&&a.data&&f.Z.create({message:"Update Done!",position:"center"})}async addUserAddress(){let e=!1,a=await this.$apollo.query({query:g.zj,variables:{address:this.address}}).catch((a=>(e=!0,{data:{errors:[],getBalanceByAddress:{balance:0,received:0}}})));if(!(a&&a.data&&a.data.getBalanceByAddress))return console.log("vafo dday"),e=!0,void f.Z.create({message:"Address invalid",color:"red",position:"center"});if(this.balanceAddress=a.data.getBalanceByAddress.balance||0,e)return;const t=await this.$apollo.mutate({mutation:y.Ue,variables:{address:this.address}}).catch((e=>{f.Z.create({message:JSON.stringify(e),color:"red",position:"center"})}));t&&t.data&&(f.Z.create({message:"Create Done!",position:"center"}),this.address="",await new Promise((e=>{setTimeout((()=>{e(!0)}),100)})),await this.getUserAddress())}showTran(e){window.open("https://explorer.raptoreum.com/tx/"+e.txid,"_blank")}async getWithdraw(){this.loading=!0,console.log("dfasdfasd");const e=await this.$apollo.query({query:v,variables:{}});e&&e.data&&(this.loading=!1,console.log("ffff"),this.transactions=e.data?.withdraws?e.data?.withdraws:[])}async created(){this.$store.dispatch("balance/fetchGetMarketCap").then((()=>{console.log("thuwr")})),await this.$store.dispatch("balance/getBalance"),await this.getWithdraw(),await this.getUserAddress()}};V([(0,x.ZM)((e=>e.balance.currency)),U("design:type","function"===typeof(q="undefined"!==typeof Z.Z&&Z.Z)?q:Object)],P.prototype,"currency",void 0),V([(0,x.ZM)((e=>e.balance.balance)),U("design:type",Number)],P.prototype,"balance",void 0),V([(0,x.ZM)((e=>e.balance.market?e.balance.market.current_price:1)),U("design:type",Number)],P.prototype,"currentPrice",void 0),V([(0,x.ZM)((e=>e.user.me)),U("design:type","function"===typeof(k="undefined"!==typeof T.e&&T.e)?k:Object)],P.prototype,"me",void 0),V([(0,x.aU)("balance/showTransition"),U("design:type",void 0)],P.prototype,"showTransition",void 0),P=V([(0,_.Ei)({name:"WithdrawIndex",components:{},computed:{}})],P);const $=P;var Q=t(74260),B=t(24379),j=t(65869),M=t(83414),R=t(64689),z=t(24554),D=t(2165),F=t(5363),S=t(62025),O=t(30673),Y=t(63314),N=t(18186),I=t(92414),H=t(83884),K=t(46778),L=t(10151),E=t(10846),G=t(25589),J=t(99367),X=t(60677),ee=t(7518),ae=t.n(ee);const te=(0,Q.Z)($,[["render",h]]),se=te;ae()($,"components",{QPage:B.Z,QSeparator:j.Z,QItem:M.Z,QInput:R.Z,QIcon:z.Z,QBtn:D.Z,QTooltip:F.Z,QSpace:S.Z,QTable:O.Z,QSelect:Y.Z,QTr:N.Z,QTh:I.Z,QTd:H.Z,QDialog:K.Z,QCard:L.Z,QBar:E.Z,QCardSection:G.Z,QCardActions:J.Z}),ae()($,"directives",{ClosePopup:X.Z})}}]);